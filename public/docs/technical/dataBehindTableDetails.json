{
    "columns": [
        {
            "column": "company_id",
            "type": "integer",
            "nullable": "No",
            "comment": null
        },
        {
            "column": "id",
            "type": "integer",
            "nullable": "No",
            "comment": null
        },
        {
            "column": "first_name",
            "type": "character varying(20)",
            "nullable": "No",
            "comment": null
        },
        {
            "column": "name",
            "type": "character varying(20)",
            "nullable": "No",
            "comment": null
        },
        {
            "column": "factory_id",
            "type": "integer",
            "nullable": "No",
            "comment": null
        },
        {
            "column": "activity_points",
            "type": "integer",
            "nullable": "No",
            "comment": "Points earned for interventions."
        },
        {
            "column": "works_with_company_id",
            "type": "integer",
            "nullable": "Yes",
            "comment": null
        },
        {
            "column": "works_with_id",
            "type": "integer",
            "nullable": "Yes",
            "comment": "Employee this one collaborates with."
        },
        {
            "column": "chief_company_id",
            "type": "integer",
            "nullable": "Yes",
            "comment": null
        },
        {
            "column": "chief_id",
            "type": "integer",
            "nullable": "Yes",
            "comment": "Supervisor of this employee."
        }
    ],
    "primaryKey": {
        "name": "employee_pkey",
        "columns": [
            "company_id",
            "id"
        ],
        "comment": "Composite PK on (company_id, id)."
    },
    "foreignKeys": [
        {
            "constraint_name": "employee_company_id_factory_id_fkey",
            "source_table": "employee",
            "target_table": "factory",
            "comment": null,
            "column_mappings": [
                {
                    "source_column": "company_id",
                    "source_not_null": true,
                    "target_column": "company_id"
                },
                {
                    "source_column": "factory_id",
                    "source_not_null": true,
                    "target_column": "id"
                }
            ],
            "all_source_not_null": true,
            "is_target_unique": true,
            "on_delete": "a",
            "on_update": "a"
        },
        {
            "constraint_name": "employee_works_with_fk",
            "source_table": "employee",
            "target_table": "employee",
            "comment": "Reflexive FK: employee works with another.",
            "column_mappings": [
                {
                    "source_column": "works_with_company_id",
                    "source_not_null": false,
                    "target_column": "company_id"
                },
                {
                    "source_column": "works_with_id",
                    "source_not_null": false,
                    "target_column": "id"
                }
            ],
            "all_source_not_null": false,
            "is_target_unique": true,
            "on_delete": "n",
            "on_update": "a"
        },
        {
            "constraint_name": "employee_chief_fk",
            "source_table": "employee",
            "target_table": "employee",
            "comment": "Reflexive FK: employee's chief.",
            "column_mappings": [
                {
                    "source_column": "chief_company_id",
                    "source_not_null": false,
                    "target_column": "company_id"
                },
                {
                    "source_column": "chief_id",
                    "source_not_null": false,
                    "target_column": "id"
                }
            ],
            "all_source_not_null": false,
            "is_target_unique": true,
            "on_delete": "n",
            "on_update": "a"
        }
    ],
    "indexes": [
        {
            "name": "employee_pkey",
            "definition": "CREATE UNIQUE INDEX employee_pkey ON public.employee USING btree (company_id, id)",
            "comment": null,
            "constraint_type": "PRIMARY KEY"
        }
    ],
    "comment": "Employee working in a factory."
}